{% extends "base.html" %}
{% block title %}Lodel 2 - Class {{ classname }} {% endblock %}
{% block content %} 
<ol class="breadcrumb">
  <li><a href="/lodel_i/">Home</a></li>
  <li><a href="/lodel_i/list_classes">Types</a></li>
  <li class="active">{{ classname }}</li>
</ol>
<h1>Type {{ classname }} </h1>
 {% set my_class  = leapi.name2class(classname) %}
 {% if my_class.child_classes()|length >0 %}
     <h2> Childs types</h2>
     <ul>
     {% for child in my_class.child_classes() %}
         {% if child.is_abstract() %}
            {% set abst = ' - Abstract class ' %}
            {% else %}
            {% set abst = ' - ' ~ child.get(None)|length %}
         {% endif %}
     <li><a href="show_class?name={{ child.__name__ }}" target="_blank">{{ child.__name__ }}</a>{{ abst }}</li>
     {% endfor %}
     </ul>
  {% endif %}
 {% if not my_class.is_abstract() %}
<h2>Instances</h2>
    {% set uid_f = my_class.uid_fieldname() %}
    {% set objects = my_class.get(None) %}
    <ul>
    {% for obj in objects %}
        <li><a href="show_object?classname={{ classname }}&lodel_id={{ obj.uid() }}" target="_blank">{{ obj.uid() }} </a></li>
    {% endfor %}
    </ul>
 {% endif %}

{% endblock %} 
